<HTML>
	<HEAD>
	<meta http-equiv="Content-type" content="text/html; charset=Shift_JIS">
    <TITLE>ＤＸライブラリ置き場　使い方説明</TITLE>
	</HEAD>
	<BODY BGCOLOR="#ffffff" TEXT="#000000" LINK="#0033CC" VLINK="#800040">
	<TABLE ALIGN="CENTER" WIDTH=800  CELLSPACING=0 CELLPADDING=0 >
		<TR>
		<TD ALIGN="CENTER">
		<FONT SIZE="6" COLOR="#000000"><B>
			Ｇｎｕ　Ｃ＋＋　（　Ｂｌｏｏｄｓｈｅｄ　Ｄｅｖ－Ｃ＋＋　）<BR>　によるＤＸライブラリの使い方
		</B></FONT>
		</TD></TR>
		<TR><TD>
		<HR>
		<FONT SIZE="3" COLOR="#000000"><B>
		<BR>

		　Gnu C++ を使用してＤＸライブラリを使ったソフトを制作するには以下のような手順を踏みます。<BR>
		というか、ここでは既に Dev-C++ をお使いの方が Dev-C++ でＤＸライブラリを使う際の手順を記載します。<BR><BR>

		<A HREF="#R1">1.ＤＸライブラリを使うために必要なものを揃える<BR><BR></A>
		<A HREF="#R2">2.Dev-C++ でＤＸライブラリを使うための設定を行う<BR><BR></A>
		<A HREF="#R3">3.プロジェクトの作成<BR><BR></A>
		<A HREF="#R4">4.ＤＸライブラリを使用するためのプロジェクトの設定を行う<BR><BR></A>
		<A HREF="#R5">5.プログラムを組む<BR><BR></A>
		<A HREF="#R6">6.プロジェクトのビルド、実行<BR><BR><BR><BR></A>


		<A NAME="R1">
		<FONT COLOR="#008800">
		1.ＤＸライブラリを使うために必要なものを揃える<BR><BR>
		</FONT>
		</A>

		　<FONT COLOR="#990033">Dev-C++</FONT> でＤＸライブラリを使用するには以下のものが必要です。<BR><BR>

		<FONT COLOR="#990033">
		　　Ｂｌｏｏｄｓｈｅｄ　Ｄｅｖ－Ｃ＋＋<BR>
		　　Ｇｎｕ　Ｃ＋＋用ＤＸライブラリ<BR><BR>
		</FONT>

		　まず一つ目の <FONT COLOR="#990033">Bloodshed Dev-C++</FONT> は Gnu C++ を使用したソフトウエア開発を行い易くするためのソフトです。<BR>
		　こちらは無償で公開されていますので、まだお手元に無い方は「Dev-C++ 」などで検索して公開されているサイトを探してみてください。<BR>
		( 本解説は既に Dev-C++ をお使いの方を対象としますので、インストールなどの説明は省きます )<BR><BR>

		　二つ目の<FONT COLOR="#990033">Ｇｎｕ　Ｃ＋＋用のＤＸライブラリ</FONT>は本サイトの<A HREF="../dxdload.html">ここ</A>からダウンロードすることが
		出来ます。これがないとＤＸライブラリを使うことが出来ませんので、まだダウンロードされて
		いない方はダウンロードしておいてください。<BR><BR><BR><BR>

		<A NAME="R2">
		<FONT COLOR="#008800">
		2.Dev-C++ でＤＸライブラリを使うための設定を行う<BR><BR>
		</FONT>
		</A>

		　必要なアイテムが揃ったところで、今度は Dev-C++ の設定を少し変更して、ＤＸライブラリのファイルにＰＣ上の何処にあるプロジェクトからもアクセスできるようにします。<BR><BR>

		<FONT COLOR="#550088">
		　①　Dev-C++ のメニューの『Tools』→『Compiler Options』を選びます。<BR><BR>
		　②　Compiler Optionsウインドウの『Directorie』タグを選びます。<BR><BR>
		　③　下に出てくるタグの『Libraries』を選択します。<BR><BR>
		　④　ディレクトリリストにＤＸライブラリのパッケージ内に入っている<BR>
		　　　　『プロジェクトに追加すべきファイル_GCC(Dev-cpp)用』フォルダのパスを追加します。<BR>
		　　　　( Addボタンを押さないと追加されないので注意 )<BR><BR>
		　⑤　今度は『C++ Includes』のタグを選択します。<BR><BR>
		　⑥　ディレクトリリストに④と同じく<BR>
		　　　　『プロジェクトに追加すべきファイル_GCC(Dev-cpp)用』フォルダのパスを追加します。<BR>
		　　　　( Addボタンを押さないと追加されないので注意 )<BR><BR>
		　⑦　『OK』ボタンを押して設定完了です。<BR><BR><BR><BR>
		</FONT>


		<A NAME="R3">
		<FONT COLOR="#008800">
		3.プロジェクトの作成<BR><BR>
		</FONT>
		</A>

		　DevC++ 設定が完了したら、早速ＤＸライブラリを使ったソフトウエアを作成してみましょう。<BR>
		　作成手順の説明が主なので、ここでは『画面の中心に点を打つ』という簡単な動作をするソフトウエアを作成する手順を記したいと思います。<BR>
		　Dev-C++でソフトウエアを作るにはまず『プロジェクト』を作成する必要があるので
		以下にその方法を示します。<BR><BR>

		<FONT COLOR="#550088">
		　　①　Dev-C++ のメニューの『File』→『New』→『Project...』を選びます。<BR><BR>
		　　②　New Projectウインドウの『Windows Application』を選びます。<BR><BR>
		　　③　Project Options の Name の項目にプロジェクト名を入力して『OK』ボタンを押します。<BR>
		　　　　　( ここでは仮にプロジェクト名を DrawPixel と入力してください )<BR><BR>
		　　④　次にプロジェクトを保存するフォルダパスを指定して『保存』ボタンを押します。<BR><BR>
		　　⑤　プロジェクトが開くと最初からサンプルプログラム的な『main.cpp』というファイルが開きますので<BR>
		　　　　　Dev-C++　のメニューから『File』→『Save』を選択してプロジェクトファイルがあるフォルダに<BR>
		　　　　　main.cpp を保存してください。<BR><BR><BR><BR>
		</FONT>


		<A NAME="R4">
		<FONT COLOR="#008800">
		4.ＤＸライブラリを使用するためのプロジェクトの設定を行う<BR><BR>
		</FONT>
		</A>

		　ＤＸライブラリのファイルをプロジェクトのフォルダにコピーすることができたら、次にＤＸライブラリをプロジェクトで使用するためのプロジェクトの設定を行う必要があります。<BR><BR>

		<FONT COLOR="#550088">
		　　①　Dev-C++ の『Project』→『Project Options』を選びます。<BR><BR>
		　　②　Project Optionsウインドウの『Parameters』タグを選びます。<BR><BR>
		　　③　『C++ compiler』の項目に以下の二行を入力します。<BR><BR>
		
-DDX_GCC_COMPILE<BR>
-DDX_NON_INLINE_ASM<BR><BR>

		　　④　『Linker』の項目に以下の１３行を入力します。<BR><BR>

-lDxLib<BR>
-lDxUseCLib<BR>
-lDxDrawFunc<BR>
-ljpeg<BR>
-lpng<BR>
-lzlib<BR>
-ltiff<BR>
-ltheora_static<BR>
-lvorbis_static<BR>
-lvorbisfile_static<BR>
-logg_static<BR>
-lbulletdynamics<BR>
-lbulletcollision<BR>
-lbulletmath<BR><BR>

		<FONT COLOR="#990033">行の順番を変えると正常にリンクされないことがありますので、上記の順番通りに入力してください。</FONT><BR><BR>

		　　⑤　『OK』ボタンを押して設定完了です。<BR><BR><BR><BR>
		</FONT>





		<A NAME="R5">
		<FONT COLOR="#008800">
		5.プログラムを組む<BR><BR>
		</FONT>
		</A>

		　後はプログラムを組むだけです。<BR>
		　Dev-C++ のプロジェクトには最初から main.cpp というファイルが追加されていて、
		プログラムも記載されていますが、そのプログラムを Dev-C++ メニューの『Edit』→『Select All』を選択して中身をすべて選択したあとDeleteキーを押してまっさらにしてください。<BR>
		　その上で以下のプログラムを main.cpp に入力してください。画面の中心に点を描画するプログラムです。<BR>

	<HR>
<PRE>
#include "DxLib.h"

// プログラムは WinMain から始まります
int WINAPI WinMain( HINSTANCE hInstance, HINSTANCE hPrevInstance,
						LPSTR lpCmdLine, int nCmdShow )
{
	if( DxLib_Init() == -1 )		// ＤＸライブラリ初期化処理
	{
		return -1 ;			// エラーが起きたら直ちに終了
	}

	DrawPixel( 320 , 240 , 0xffff ) ;	// 点を打つ

	WaitKey() ;				// キー入力待ち

	DxLib_End() ;				// ＤＸライブラリ使用の終了処理

	return 0 ;				// ソフトの終了 
}
</PRE>
	<HR><BR><BR>

		　プログラムはこれだけです、どの部分が何をしているのか簡単に説明します。
		まず最初の１行はＤＸライブラリを使用するために必要なファイルをインクルードしています。<BR>
		　次の<FONT COLOR="#880022">『int WINAPI WinMain( HINSTANCE hInstance, HINSTANCE hPrevInstance,
		LPSTR lpCmdLine, int nCmdShow )』</FONT>はウインドウズのプログラムのスタート地点となる
		関数の宣言です。それぞれの単語が何を意味しているかは特に考える必要はありません。
		ウインドウ環境のスタート関数はすべてこの形の宣言をとります。<BR>
		　中括弧関数最初の文<FONT COLOR="#880022">『if( !DxLib_Init() ) return -1;』</FONT>はＤＸライブラリを
		初期化して使える状態にするために必要な関数<FONT COLOR="#880022">『DxLib_Init』</FONT>を呼んでいます。
		この関数はＤＸライブラリを使うプログラムを組む際には例外を除いてまず
		最初に呼び出す必要があります。因みに『if(...』と書かれているのは初期化に
		失敗したらその時点でソフトを終了させるという処理を行うための物です。<BR>
		　<FONT COLOR="#880022">『DrawPixel』</FONT>はそのまま点を描画するための関数です。<BR>
		　その次の<FONT COLOR="#880022">『WaitKey』</FONT>はキーが押されるまで処理を止める関数です。<BR>
		　最後の<FONT COLOR="#880022">『DxLib_End() ;』</FONT>は注釈にも書いてある通りＤＸライブラリの使用を
		終了する処理を行う関数を読んでいる文です。ＤＸライブラリを使用している
		プログラムは最後に必ずこの関数を呼ばなくてはなりません。これを呼ばないで終ると
		大変な事になりますので注意してください。<BR><BR><BR><BR>

		<A NAME="R6">
		<FONT COLOR="#008800">
		6.プロジェクトのビルド、実行<BR><BR>
		</FONT>
		</A>

		　入力が終ったら実行してみましょう。実行するためには<BR><BR>

		<FONT COLOR="#550088">
		　　①　Dev-C++ のメニューから『Execute』→『Compile』を選択して、プログラムをコンパイルしてください。<BR>
		　　　コンパイルに成功すれば Compile Progress ウインドウに『Done.』と表示されます。<BR>
		　　　エラーが発生した場合は画面下部にエラー内容が出てきますので、内容に従って修正してください。<BR>
		　　②　次に Dev-C++ のメニューから『Execute』→『Run』を選択してください。プログラムが実行されます。<BR><BR>
		</FONT>

		　さて画面中心に点がうたれたでしょうか？<BR><BR>

		　出来あがった実行可能ファイルですが、それはプロジェクトのフォルダの中に作成されます。<BR>
		これがこれまでの作業の成果となります。<BR>
		　これでＤＸライブラリを使ってのソフト制作の方法はわかりました。
		後は好きにプログラムを組んでゲームを作るだけです。
		ですがまだＤＸライブラリの機能は初期化と終了とドットを描画する関数しかわかっていません。
		　この他の関数は<A HREF="../dxfunc.html">ＤＸライブラリ関数リファレンスのページ</A>で解説されていますのでそちらを参照して下さい。<BR><BR><BR><BR><BR>

		<HR>
		<A HREF="../dxuse.html">戻る</A>

		</B></FONT>
		</TD></TR>
	</TABLE>
	</BODY>
</HTML>
